(this.webpackJsonpfitness_react=this.webpackJsonpfitness_react||[]).push([[0],{100:function(t,e,n){},101:function(t,e,n){},102:function(t,e,n){},103:function(t,e,n){},104:function(t,e,n){},105:function(t,e,n){},106:function(t,e,n){},107:function(t,e,n){},108:function(t,e,n){},109:function(t,e,n){},110:function(t,e,n){},111:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(10),r=n.n(i),o=n(13),s=n(7),j=n(12),u=n(16),l=n.n(u),b=n(22),d=n(21),h=n.n(d),O="https://fitnesstrac-kr.herokuapp.com/api/";function f(){return(f=Object(b.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat(O,"routines"));case 3:return e=t.sent,n=e.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function p(){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat(O,"activities"));case 3:return e=t.sent,n=e.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var g="/activities",m="/create-activity",v="/create-routine",y="/home",S="/login",k="/my-routines",w="/register",I="/routines",N=(n(93),n(2)),A=function(){return JSON.parse(localStorage.getItem("token"))?Object(N.jsx)("div",{id:"navbar",children:Object(N.jsx)(o.b,{to:m,className:"btn-btn-primary",children:"Create Activity"})}):Object(N.jsx)("div",{})},C=n(139),R=n(143),J=n(144),F=n(145),D=n(146),P=n(147),T=n(148),E=(n(100),function(){var t=Object(c.useState)(),e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(c.useEffect)((function(){p().then((function(t){a(t)})).catch((function(t){console.error(t)}))})),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Activites"}),Object(N.jsx)(A,{}),Object(N.jsx)(C.a,{component:R.a,children:Object(N.jsxs)(J.a,{children:[Object(N.jsx)(F.a,{children:Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{align:"right",id:"activity-name",children:"Name"}),Object(N.jsx)(P.a,{align:"right",id:"activity-description",children:"Description"})]})}),Object(N.jsx)(T.a,{children:n&&n.map((function(t){return Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{align:"right",children:t.name}),Object(N.jsx)(P.a,{align:"right",children:t.description})]},t.name)}))})]})})]})}),B=n(152),z=n(153),U=(n(101),function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],j=r[1],u=JSON.parse(localStorage.getItem("token"));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("form",{noValidate:!0,autoComplete:"off",id:"routine-form",onSubmit:function(t){t.preventDefault(),fetch("".concat("https://fitnesstrac-kr.herokuapp.com/api","/routines"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({name:n,goal:o,isPublic:!0})}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error)},children:[Object(N.jsx)(B.a,{id:"name",label:"Name",onInput:function(t){a(t.target.value)}}),Object(N.jsx)(B.a,{id:"goal",label:"Goal",onInput:function(t){j(t.target.value)}}),Object(N.jsx)(z.a,{type:"submit",children:"Submit"})]})," "]})}),L=(n(102),function(){var t=JSON.parse(localStorage.getItem("token"));return t?Object(N.jsx)("nav",{children:Object(N.jsxs)("div",{className:"loggedIn",children:[Object(N.jsx)(o.b,{to:y,children:"Home"}),Object(N.jsx)(o.b,{to:I,children:"Routines"}),Object(N.jsx)(o.b,{to:g,children:"Activities"}),Object(N.jsx)(o.b,{to:k,children:"My Routines"}),Object(N.jsx)(o.b,{to:v}),Object(N.jsx)(o.b,{to:m}),Object(N.jsx)(o.b,{to:y,id:"logout-button",onClick:function(){localStorage.clear("token"),window.location.href="".concat(y)},children:"Logout"})]})}):Object(N.jsx)("nav",{children:Object(N.jsxs)("div",{className:"loggedOut",children:[Object(N.jsx)(o.b,{to:y,children:"Home"}),Object(N.jsx)(o.b,{to:I,children:"Routines"}),Object(N.jsx)(o.b,{to:g,children:"Activities"}),Object(N.jsx)(o.b,{to:w,id:"admin",children:"Register"}),Object(N.jsx)(o.b,{to:S,id:"admin",children:"Login"})]})})}),H=n(64),V=n(149),G=n(150),M=n(151),_="https://fitnesstrac-kr.herokuapp.com/api/",W=function(t){var e=t.routine,n=e.id,a=e.name,i=e.goal,r=e.creatorName,o=e.isPublic,j=t.onRemoveRoutine,u=JSON.parse(localStorage.getItem("token")),l=Object(c.useState)(a),b=Object(s.a)(l,2),d=b[0],h=b[1],O=Object(c.useState)(i),f=Object(s.a)(O,2),x=f[0],g=f[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),y=v[0],S=v[1],k=Object(c.useState)(""),w=Object(s.a)(k,2),A=w[0],C=w[1],R=Object(c.useState)([]),J=Object(s.a)(R,2),F=J[0],T=J[1];Object(c.useEffect)((function(){p().then((function(t){T(t)})).catch((function(t){console.error(t)}))}),[T]);var E=function(t){t.preventDefault();var e=t.target.options.selectedIndex,n=t.target.options[e].getAttribute("data-key");setActivityId(n),setAnActivity(t.target.value)};return Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{component:"th",scope:"row",children:n}),Object(N.jsx)(P.a,{align:"right",children:y?Object(N.jsx)(B.a,{value:d,onChange:function(t){h(t.target.value)}}):d}),Object(N.jsx)(P.a,{align:"right",children:y?Object(N.jsx)(B.a,{value:x,onChange:function(t){g(t.target.value)}}):x}),Object(N.jsx)(P.a,{align:"right",children:r}),Object(N.jsx)(P.a,{align:"right",children:o}),Object(N.jsxs)("fieldset",{style:{width:"15px"},children:[Object(N.jsx)("label",{htmlFor:"select-activity"}),Object(N.jsxs)("select",{value:A,onChange:function(t){C({HandleFormSubmit:E})},children:[Object(N.jsx)("option",{value:"add activity",children:"Add Activity"}),F.map((function(t){return Object(N.jsx)("option",{value:t.name,"data-key":t.id,children:t.name},t.id)}))]})]}),Object(N.jsx)(P.a,{align:"right",children:y?Object(N.jsx)(V.a,{style:{cursor:"pointer"},onClick:function(){!function(t){S(!1),fetch("".concat(_).concat(I,"/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({name:d,goal:x})}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error)}(n)}}):Object(N.jsx)(G.a,{style:{cursor:"pointer"},onClick:function(){S(!0)}})}),Object(N.jsx)(P.a,{align:"right",children:Object(N.jsx)(M.a,{onClick:function(){!function(t){j(),fetch("".concat(_).concat(I,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error)}(n)}})})]},n)},q=(n(103),function(){return Object(N.jsx)("div",{id:"navbar",children:Object(N.jsx)(o.b,{to:v,className:"btn-btn-primary",children:"Create Routine"})})}),K=(n(104),"https://fitnesstrac-kr.herokuapp.com/api"),Q=function(t){try{return h.a.get("".concat(K,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){return t.data.username}))}catch(e){console.error(e)}},X=function(t,e){try{return h.a.get("".concat(K,"/users/").concat(t,"/routines"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(t){return t.data}))}catch(n){console.error(n)}},Y=function(){var t,e=Object(c.useState)([]),n=Object(s.a)(e,2),a=n[0],i=n[1],r=Object(H.a)(a);return Object(c.useEffect)(Object(b.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(localStorage.getItem("token")))){e.next=9;break}return e.next=4,Q(n);case 4:return t=e.sent,e.next=7,X(t,n);case 7:c=e.sent,i(c);case 9:case"end":return e.stop()}}),e)}))),[]),r.length>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q,{}),Object(N.jsx)(C.a,{component:R.a,children:Object(N.jsxs)(J.a,{children:[Object(N.jsx)(F.a,{children:Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{id:"bold",align:"left",children:"ID"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Name"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Goal"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Creator Name"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Add Activity"}),Object(N.jsx)(P.a,{id:"bold",align:"right"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Edit"}),Object(N.jsx)(P.a,{id:"bold",align:"right",children:"Delete"})]})}),Object(N.jsx)(T.a,{children:a.map((function(t,e){return Object(N.jsx)(W,{routine:t,onRemoveRoutine:function(){!function(t){r.splice(t,1),i(r)}(e)}},t.id)}))})]})})]}):Object(N.jsx)(U,{})},Z=(n(105),function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],j=r[1],u=JSON.parse(localStorage.getItem("token"));return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("form",{noValidate:!0,autoComplete:"off",id:"activity-form",onSubmit:function(t){t.preventDefault(),fetch("".concat("https://fitnesstrac-kr.herokuapp.com/api","/activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({name:n,description:o})}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch("Activity already exists")},children:[Object(N.jsx)(B.a,{id:"name",label:"Name",onInput:function(t){a(t.target.value)}}),Object(N.jsx)(B.a,{id:"description",label:"Description",onInput:function(t){j(t.target.value)}}),Object(N.jsx)(z.a,{type:"submit",children:"Submit"})]})})}),$=(n(106),n.p+"static/media/fitness.f4fa2f14.jpg"),tt=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Welcome to Fitness Tracker!"}),Object(N.jsx)("img",{src:$,className:"center",height:350,width:700})]})},et=(n(107),function(t){var e=t.routines,n=t.setRoutines,a=Object(c.useState)(),i=Object(s.a)(a,2);i[0],i[1];return Object(c.useEffect)((function(){(function(){return f.apply(this,arguments)})().then((function(t){n(t)})).catch((function(t){console.error(t)}))})),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Routines"}),Object(N.jsx)(C.a,{component:R.a,children:Object(N.jsxs)(J.a,{children:[Object(N.jsx)(F.a,{children:Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{align:"left",id:"bold",children:"Routine Name"}),Object(N.jsx)(P.a,{align:"right",id:"bold",children:"Activities"}),Object(N.jsx)(P.a,{align:"right",id:"bold",children:"Goal"}),Object(N.jsx)(P.a,{align:"right",id:"bold",children:"Creator"})]})}),Object(N.jsx)(T.a,{children:e.map((function(t){return Object(N.jsxs)(D.a,{children:[Object(N.jsx)(P.a,{align:"left",children:t.name}),Object(N.jsx)(P.a,{align:"right",children:t.activities.map((function(t){var e=t.id,n=t.name,c=t.description,a=t.duration,i=t.count;t.routineActivityId,t.routineId;return Object(N.jsxs)("p",{children:["Name:",n,",Description:",c,",Count:",i,", Duration:",a]},e)}))}),Object(N.jsx)(P.a,{align:"right",children:t.goal}),Object(N.jsx)(P.a,{align:"right",children:t.creatorName})]},t.name)}))})]})})]})}),nt=function(t){var e=t.routines,n=t.setRoutines,c=t.activities,a=t.setActivities;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(j.a,{path:y,children:Object(N.jsx)(tt,{})}),Object(N.jsx)(j.a,{path:I,children:Object(N.jsx)(et,{routines:e,setRoutines:n})}),Object(N.jsxs)(j.a,{path:k,children:[Object(N.jsx)("h1",{children:"My Routines"}),Object(N.jsx)(Y,{})]}),Object(N.jsx)(j.a,{path:v,children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Create Routine"}),Object(N.jsx)(U,{})]})}),Object(N.jsx)(j.a,{path:m,children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Create Activity"}),Object(N.jsx)(Z,{})]})}),Object(N.jsx)(j.a,{path:g,children:Object(N.jsx)(E,{activities:c,setActivities:a})})]})},ct=(n(108),function(){var t=Object(c.useState)(),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(),r=Object(s.a)(i,2),o=r[0],j=r[1],u=Object(c.useState)(),d=Object(s.a)(u,2),O=d[0],f=d[1],p=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat("https://fitnesstrac-kr.herokuapp.com/api","/users/register"),{username:n,password:o}).then((function(t){var e=t.data.token;e?(localStorage.setItem("token",JSON.stringify(e)),window.location.href="".concat(y)):f("Invalid Username or Password")})).catch((function(){f("Invalid Username or Password")}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[O,Object(N.jsxs)("form",{noValidate:!0,autoComplete:"off",id:"register-form",onSubmit:function(t){t.preventDefault(),p()},children:[Object(N.jsx)(B.a,{id:"username",label:"Username",onInput:function(t){a(t.target.value)}}),Object(N.jsx)(B.a,{id:"password",type:"password",label:"Password",onInput:function(t){j(t.target.value)}}),Object(N.jsx)(z.a,{type:"submit",children:"Register"})]})," "]})}),at=(n(109),function(){var t=Object(c.useState)(),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(),r=Object(s.a)(i,2),o=r[0],j=r[1],u=Object(c.useState)(),d=Object(s.a)(u,2),O=d[0],f=d[1],p=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat("https://fitnesstrac-kr.herokuapp.com/api","/users/login"),{username:n,password:o}).then((function(t){var e=t.data.token;e?(localStorage.setItem("token",JSON.stringify(e)),window.location.href="".concat(y)):f("Invalid Username or Password")})).catch((function(){f("Invalid Username or Password")}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[O,Object(N.jsxs)("form",{noValidate:!0,autoComplete:"off",id:"login-form",onSubmit:function(t){t.preventDefault(),p()},children:[Object(N.jsx)(B.a,{id:"username",label:"Username",onInput:function(t){a(t.target.value)}}),Object(N.jsx)(B.a,{id:"password",type:"password",label:"Password",onInput:function(t){j(t.target.value)}}),Object(N.jsx)(z.a,{type:"submit",children:"Login"})]})," "]})}),it=(n(110),function(){var t=Object(c.useState)(!1),e=Object(s.a)(t,2),n=(e[0],e[1]);Object(c.useEffect)((function(){JSON.parse(localStorage.getItem("token"))?n(!0):n(!1)}));var a=Object(c.useState)([{id:"",creatorId:"",isPublic:!0,name:"",goal:"",creatorName:"",activities:[]}]),i=Object(s.a)(a,2),r=i[0],o=i[1],u=Object(c.useState)([{id:"",name:"",description:""}]),l=Object(s.a)(u,2),b=l[0],d=l[1];return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(L,{}),Object(N.jsx)(nt,{routines:r,setRoutines:o,activities:b,setActivities:d}),Object(N.jsxs)(j.a,{path:w,children:[Object(N.jsx)("h1",{children:"Register"}),Object(N.jsx)(ct,{})]}),Object(N.jsxs)(j.a,{path:S,children:[Object(N.jsx)("h1",{children:"Login"}),Object(N.jsx)(at,{})]})]})});r.a.render(Object(N.jsx)(o.a,{children:Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(it,{})})}),document.getElementById("root"))},93:function(t,e,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.8f1908c4.chunk.js.map